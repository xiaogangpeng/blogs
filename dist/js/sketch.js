"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(e,t){"object"===("undefined"==typeof exports?"undefined":_typeof(exports))?module.exports=t(e,e.document):"function"==typeof define&&define.amd?define(function(){return t(e,e.document)}):e.Sketch=t(e,e.document)}("undefined"!=typeof window?window:void 0,function(e,t){var n="E LN10 LN2 LOG2E LOG10E PI SQRT1_2 SQRT2 abs acos asin atan ceil cos exp floor log round sin sqrt tan atan2 pow max min".split(" "),o="__hasSketch",r=Math,D="canvas",i="webgl",z="dom",B=t,G=e,W=[],u={fullscreen:!0,autostart:!0,autoclear:!0,autopause:!0,container:B.body,interval:1,globals:!0,retina:!1,type:D},F={8:"BACKSPACE",9:"TAB",13:"ENTER",16:"SHIFT",27:"ESCAPE",32:"SPACE",37:"LEFT",38:"UP",39:"RIGHT",40:"DOWN"};function H(e){return"function"==typeof e}function M(e){return"string"==typeof e}function X(e,t,n){for(var o in t)!n&&o in e||(e[o]=t[o]);return e}function Y(e){var t,n={};for(t in e)"webkitMovementX"!==t&&"webkitMovementY"!==t&&(H(e[t])?n[t]=function(e,t){return function(){e.apply(t,arguments)}}(e[t],e):n[t]=e[t]);return n}function a(r){var t,n,o,e,i,u,a,c,l,s,f,p,d,y,m,g,h,v=0,x=[],w=!1,b=!1,E=G.devicePixelRatio||1,S=r.type==z,C=r.type==D,k={x:0,y:0,ox:0,oy:0,dx:0,dy:0},P=[r.eventTarget||r.element,_,"mousedown","touchstart",_,"mousemove","touchmove",_,"mouseup","touchend",_,"click",_,"mouseout",_,"mouseover",B,function(e){p=e.keyCode,d="keyup"==e.type,T[p]=T[function(e){return F[e]||String.fromCharCode(e)}(p)]=!d,A(r[e.type],e)},"keydown","keyup",G,function(e){r.autopause&&("blur"==e.type?L:I)();A(r[e.type],e)},"focus","blur",O,"resize"],T={};for(p in F)T[F[p]]=!1;function A(e){H(e)&&e.apply(r,[].splice.call(arguments,1))}function N(e){for(u=0;u<P.length;u++)M(l=P[u])?o[(e?"add":"remove")+"EventListener"].call(o,l,n,!1):H(l)?n=l:o=l}function O(){o=S?r.style:r.canvas,a=S?"px":"",g=r.width,h=r.height,r.fullscreen&&(h=r.height=G.innerHeight,g=r.width=G.innerWidth),r.retina&&C&&E&&(o.style.height=h+"px",o.style.width=g+"px",g*=E,h*=E),o.height!==h&&(o.height=h+a),o.width!==g&&(o.width=g+a),C&&!r.autoclear&&r.retina&&r.scale(E,E),b&&A(r.resize)}function R(e,t){var n,o;return n=e,o=r.element,i=o.getBoundingClientRect(),n.x=n.pageX-i.left-(G.scrollX||G.pageXOffset),n.y=n.pageY-i.top-(G.scrollY||G.pageYOffset),(t=t||{}).ox=t.x||e.x,t.oy=t.y||e.y,t.x=e.x,t.y=e.y,t.dx=t.x-t.ox,t.dy=t.y-t.oy,t}function _(e){for(e=function(e){if(e.preventDefault(),(s=Y(e)).originalEvent=e,s.touches)for(x.length=s.touches.length,u=0;u<s.touches.length;u++)x[u]=R(s.touches[u],x[u]);else x.length=0,x[0]=R(s,k);return X(k,x[0],!0),s}(e),y=(m=P.indexOf(f=e.type))-1,r.dragging=!!/down|start/.test(f)||!/up|end/.test(f)&&r.dragging;y;)M(P[y])?A(r[P[y--]],e):M(P[m])?A(r[P[m++]],e):y=0}function I(){r.now=+new Date,r.running=!0}function L(){r.running=!1}return X(r,{touches:x,mouse:k,keys:T,dragging:!1,running:!1,millis:0,now:NaN,dt:NaN,destroy:function(){e=r.element.parentNode,u=W.indexOf(r),e&&e.removeChild(r.element),~u&&W.splice(u,1),N(!1),L()},toggle:function(){(r.running?L:I)()},clear:function(){C&&r.clearRect(0,0,r.width*E,r.height*E)},start:I,stop:L}),W.push(r),r.autostart&&I(),N(!0),O(),function e(){q(t),t=j(e),b||(A(r.setup),b=H(r.setup)),w||(A(r.resize),w=H(r.resize)),r.running&&!v&&(r.dt=(c=+new Date)-r.now,r.millis+=r.dt,r.now=c,A(r.update),C&&(r.retina&&(r.save(),r.autoclear)&&r.scale(E,E),r.autoclear)&&r.clear(),A(r.draw),C)&&r.retina&&r.restore(),v=++v%r.interval}(),r}for(var c,l,s={CANVAS:D,WEB_GL:i,WEBGL:i,DOM:z,instances:W,install:function(e){if(!e[o]){for(var t=0;t<n.length;t++)e[n[t]]=r[n[t]];X(e,{TWO_PI:2*r.PI,HALF_PI:r.PI/2,QUARTER_PI:r.PI/4,random:function(e,t){var n;return n=e,"[object Array]"==Object.prototype.toString.call(n)?e[~~(r.random()*e.length)]:("number"!=typeof t&&(t=e||1,e=0),e+r.random()*(t-e))},lerp:function(e,t,n){return e+n*(t-e)},map:function(e,t,n,o,r){return(e-t)/(n-t)*(r-o)+o}}),e[o]=!0}},create:function(e){return(e=X(e||{},u)).globals&&s.install(self),c=e.element=e.element||B.createElement(e.type===z?"div":"canvas"),l=e.context=e.context||function(){switch(e.type){case D:return c.getContext("2d",e);case i:return c.getContext("webgl",e)||c.getContext("experimental-webgl",e);case z:return c.canvas=c}}(),(e.container||B.body).appendChild(c),s.augment(l,e)},augment:function(e,t){return(t=X(t||{},u)).element=e.canvas||e,t.element.className+=" sketch",X(e,t,!0),a(e)}},f=["ms","moz","webkit","o"],p=self,d=0,y="AnimationFrame",t="request"+y,e="cancel"+y,j=p[t],q=p[e],m=0;m<f.length&&!j;m++)j=p[f[m]+"Request"+y],q=p[f[m]+"Cancel"+y];return p[t]=j=j||function(e){var t=+new Date,n=r.max(0,16-(t-d)),o=setTimeout(function(){e(t+n)},n);return d=t+n,o},p[e]=q=q||function(e){clearTimeout(e)},s});