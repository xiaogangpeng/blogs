"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(e,t){"object"==("undefined"==typeof exports?"undefined":_typeof(exports))?module.exports=t(e,e.document):"function"==typeof define&&define.amd?define(function(){return t(e,e.document)}):e.Sketch=t(e,e.document)}("undefined"!=typeof window?window:void 0,function(e,t){function D(e){return"function"==typeof e}function z(e){return"string"==typeof e}function B(e,t,n){for(var o in t)!n&&o in e||(e[o]=t[o]);return e}function G(e){var t,n={};for(t in e)"webkitMovementX"!==t&&"webkitMovementY"!==t&&(D(e[t])?n[t]=function(e,t){return function(){e.apply(t,arguments)}}(e[t],e):n[t]=e[t]);return n}function n(r){function n(e){D(e)&&e.apply(r,[].splice.call(arguments,1))}function e(e){for(d=0;d<I.length;d++)z(g=I[d])?s[(e?"add":"remove")+"EventListener"].call(s,g,l,!1):D(g)?l=g:s=g}function t(){s=O?r.style:r.canvas,y=O?"px":"",S=r.width,C=r.height,r.fullscreen&&(C=r.height=M.innerHeight,S=r.width=M.innerWidth),r.retina&&R&&N&&(s.style.height=C+"px",s.style.width=S+"px",S*=N,C*=N),s.height!==C&&(s.height=C+y),s.width!==S&&(s.width=S+y),R&&!r.autoclear&&r.retina&&r.scale(N,N),A&&n(r.resize)}function o(e,t){return n=e,o=r.element,p=o.getBoundingClientRect(),n.x=n.pageX-p.left-(M.scrollX||M.pageXOffset),n.y=n.pageY-p.top-(M.scrollY||M.pageYOffset),(t=t||{}).ox=t.x||e.x,t.oy=t.y||e.y,t.x=e.x,t.y=e.y,t.dx=t.x-t.ox,t.dy=t.y-t.oy,t;var n,o}function i(e){for(e=function(e){if(e.preventDefault(),(h=G(e)).originalEvent=e,h.touches)for(P.length=h.touches.length,d=0;d<h.touches.length;d++)P[d]=o(h.touches[d],P[d]);else P.length=0,P[0]=o(h,_);return B(_,P[0],!0),h}(e),b=(E=I.indexOf(v=e.type))-1,r.dragging=!!/down|start/.test(v)||!/up|end/.test(v)&&r.dragging;b;)z(I[b])?n(r[I[b--]],e):z(I[E])?n(r[I[E++]],e):b=0}function u(){r.now=+new Date,r.running=!0}function a(){r.running=!1}var c,l,s,f,p,d,y,m,g,h,v,x,w,b,E,S,C,k=0,P=[],T=!1,A=!1,N=M.devicePixelRatio||1,O=r.type==F,R=r.type==W,_={x:0,y:0,ox:0,oy:0,dx:0,dy:0},I=[r.eventTarget||r.element,i,"mousedown","touchstart",i,"mousemove","touchmove",i,"mouseup","touchend",i,"click",i,"mouseout",i,"mouseover",H,function(e){var t;x=e.keyCode,w="keyup"==e.type,L[x]=L[Y[t=x]||String.fromCharCode(t)]=!w,n(r[e.type],e)},"keydown","keyup",M,function(e){r.autopause&&("blur"==e.type?a:u)(),n(r[e.type],e)},"focus","blur",t,"resize"],L={};for(x in Y)L[Y[x]]=!1;return B(r,{touches:P,mouse:_,keys:L,dragging:!1,running:!1,millis:0,now:NaN,dt:NaN,destroy:function(){f=r.element.parentNode,d=X.indexOf(r),f&&f.removeChild(r.element),~d&&X.splice(d,1),e(!1),a()},toggle:function(){(r.running?a:u)()},clear:function(){R&&r.clearRect(0,0,r.width*N,r.height*N)},start:u,stop:a}),X.push(r),r.autostart&&u(),e(!0),t(),function e(){q(c),c=j(e),A||(n(r.setup),A=D(r.setup)),T||(n(r.resize),T=D(r.resize)),r.running&&!k&&(r.dt=(m=+new Date)-r.now,r.millis+=r.dt,r.now=m,n(r.update),R&&(r.retina&&(r.save(),r.autoclear)&&r.scale(N,N),r.autoclear)&&r.clear(),n(r.draw),R)&&r.retina&&r.restore(),k=++k%r.interval}(),r}for(var o,r,i="E LN10 LN2 LOG2E LOG10E PI SQRT1_2 SQRT2 abs acos asin atan ceil cos exp floor log round sin sqrt tan atan2 pow max min".split(" "),u="__hasSketch",a=Math,W="canvas",c="webgl",F="dom",H=t,M=e,X=[],l={fullscreen:!0,autostart:!0,autoclear:!0,autopause:!0,container:H.body,interval:1,globals:!0,retina:!1,type:W},Y={8:"BACKSPACE",9:"TAB",13:"ENTER",16:"SHIFT",27:"ESCAPE",32:"SPACE",37:"LEFT",38:"UP",39:"RIGHT",40:"DOWN"},s={CANVAS:W,WEB_GL:c,WEBGL:c,DOM:F,instances:X,install:function(e){if(!e[u]){for(var t=0;t<i.length;t++)e[i[t]]=a[i[t]];B(e,{TWO_PI:2*a.PI,HALF_PI:a.PI/2,QUARTER_PI:a.PI/4,random:function(e,t){return n=e,"[object Array]"==Object.prototype.toString.call(n)?e[~~(a.random()*e.length)]:("number"!=typeof t&&(t=e||1,e=0),e+a.random()*(t-e));var n},lerp:function(e,t,n){return e+n*(t-e)},map:function(e,t,n,o,r){return(e-t)/(n-t)*(r-o)+o}}),e[u]=!0}},create:function(e){return(e=B(e||{},l)).globals&&s.install(self),o=e.element=e.element||H.createElement(e.type===F?"div":"canvas"),r=e.context=e.context||function(){switch(e.type){case W:return o.getContext("2d",e);case c:return o.getContext("webgl",e)||o.getContext("experimental-webgl",e);case F:return o.canvas=o}}(),(e.container||H.body).appendChild(o),s.augment(r,e)},augment:function(e,t){return(t=B(t||{},l)).element=e.canvas||e,t.element.className+=" sketch",B(e,t,!0),n(e)}},f=["ms","moz","webkit","o"],p=self,d=0,y="AnimationFrame",t="request"+y,e="cancel"+y,j=p[t],q=p[e],m=0;m<f.length&&!j;m++)j=p[f[m]+"Request"+y],q=p[f[m]+"Cancel"+y];return p[t]=j=j||function(e){var t=+new Date,n=a.max(0,16-(t-d)),o=setTimeout(function(){e(t+n)},n);return d=t+n,o},p[e]=q=q||function(e){clearTimeout(e)},s});